{% extends "layout.html" %}

{% block title %}
    Log In
{% endblock %}

{% block main %}
    <div class="container">
        <div id="text" class="container lofigirl">
            <h1 class="display-4">Enjoy Your Break</h1>
            <img style="width:412px; height:412px;" src="https://images.vexels.com/media/users/3/148806/isolated/preview/4052ca52ac757f7870cf61118d76c65f-metal-office-desk-clipart-by-vexels.png">
        </div>
        <div id="work-text" class="container work">
            <h1 class="display-4">Back to Work</h1>
            <img style="margin-bottom:20px; margin-top:20px;"src="https://qph.fs.quoracdn.net/main-qimg-63bf708aef5d540e61230400788021ff">
        </div>

        <div id="container" class="container circle">
            <div class="row">
                <div class="col-5">
                    <p class="lead" id="minutes"></p>
                </div>
                <div class="col-2">
                    <p class="lead">:</p>
                </div>
                <div class="col-5">
                    <p class="lead" id="seconds"></p>
                </div>
            </div>
        </div>

        <div id="buttons" class="pom-buttons">
            <button style="border-radius:15px; margin-top:10px; width:45%;"class="btn btn-outline-success" onclick="start()">Start</button>
            <button style="border-radius:15px; margin-top:10px; width:45%;"class="btn btn-outline-danger" onclick="reset()">Reset</button>
        </div>
    </div>

    <script>
        function start(){

            let minutes = 0
            let seconds = 4
            document.getElementById("minutes").innerHTML = minutes;
            document.getElementById("seconds").innerHTML = seconds;
            minutes_interval = setInterval(minutestimer,60000)
            seconds_interval = setInterval(secondstimer,1000)

            function minutestimer(){
                minutes-=1
                document.getElementById("minutes").innerHTML = minutes;
            }
            function secondstimer(){
                seconds-=1
                document.getElementById(("seconds")).innerHTML = seconds;

                if (seconds <= 0){
                    if (minutes <= 0){
                        clearInterval(minutes_interval);
                        clearInterval(seconds_interval);
                        $(document).ready(function(){
                            $("#container").fadeOut(3000);
                            $("#buttons").fadeOut(3000);
                            setTimeout(function(){
                                $("#text").fadeIn(2000);
                            },3000);
                            setTimeout(function(){
                               $("#text").fadeOut(3000);
                            },8000);
                            setTimeout(function(){
                               $("#container").fadeIn(1000);
                               $("#buttons").fadeIn(1000);
                            },11000);
                            setTimeout(function(){
                                break_start();
                            },14000);
                        });
                        //break_start();
                    }
                    seconds=60;
                }
            }
        }

        function reset(){
            let minutes = 25;
            let seconds = 00;
            document.getElementById("minutes").innerHTML = minutes;
            document.getElementById("seconds").innerHTML=seconds;
            clearInterval(minutes_interval);
            clearInterval(seconds_interval);
        }
        function break_start(){
            let minutes = 0;
            let seconds = 5;

            document.getElementById("minutes").innerHTML = minutes;
            document.getElementById("seconds").innerHTML = seconds;
            minutes_interval = setInterval(minutestimer,60000)
            seconds_interval = setInterval(secondstimer,1000)

            function minutestimer(){
                minutes-=1
                document.getElementById("minutes").innerHTML = minutes;
            }
            function secondstimer(){
                seconds-=1
                document.getElementById(("seconds")).innerHTML = seconds;

                if (seconds <= 0){
                    if (minutes <= 0){
                        clearInterval(minutes_interval);
                        clearInterval(seconds_interval);
                        $(document).ready(function(){
                            $("#container").fadeOut(3000);
                            $("#buttons").fadeOut(3000);
                            setTimeout(function(){
                                $("#work-text").fadeIn(2000);
                            },3000);
                            setTimeout(function(){
                               $("#work-text").fadeOut(3000);
                            },8000);
                            setTimeout(function(){
                               $("#container").fadeIn(1000);
                               $("#buttons").fadeIn(1000);
                            },11000);
                            setTimeout(function(){
                                start();
                            },14000);
                        });
                    }
                    seconds=60;
                }
            }
        }
    </script>
{% endblock %}
